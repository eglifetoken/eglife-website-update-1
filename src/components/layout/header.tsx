
"use client";

import Link from "next/link";
import { Button } from "@/components/ui/button";
import { Sheet, SheetContent, SheetTrigger } from "@/components/ui/sheet";
import { Menu } from "lucide-react";
import { usePathname } from 'next/navigation';
import { cn } from "@/lib/utils";

const navLinks = [
  { href: "/", label: "Home" },
  { href: "/about", label: "About" },
  { href: "/services", label: "Services" },
  { href: "/roadmap", label: "Roadmap" },
  { href: "/staking", label: "Staking" },
  { href: "/dashboard", label: "Dashboard" },
  { href: "/recommendations", label: "For You" },
  { href: "/dapp", label: "DApp" },
  { href: "/contact", label: "Contact" },
];

const Logo = () => (
    <svg width="140" height="40" viewBox="0 0 207 59" fill="none" xmlns="http://www.w3.org/2000/svg" className="text-foreground">
        <path d="M10.8236 58.0576C8.52697 58.0576 6.54504 57.2753 4.87781 55.7107C3.21058 54.1461 2.37697 52.1904 2.37697 49.8436C2.37697 47.7495 3.01844 45.9221 4.30138 44.3619C5.58432 42.7903 7.37118 41.6701 9.66196 41.0011L18.8472 38.643C20.6872 38.1633 22.0935 37.5878 23.066 36.9171C24.0385 36.2464 24.5247 35.336 24.5247 34.1859C24.5247 32.8997 24.0935 31.8946 23.2309 31.1706C22.3684 30.4352 21.1912 30.0675 19.6994 30.0675C18.1544 30.0675 16.9404 30.4352 16.0594 31.1706C15.1899 31.8946 14.7551 32.8391 14.7551 33.9892H2.86133C2.86133 31.3917 3.5853 29.2132 5.03323 27.4539C6.49269 25.6831 8.52697 24.3946 11.1396 23.5881C13.7522 22.7816 16.6315 22.3784 19.7823 22.3784C23.016 22.3784 25.7541 22.8461 28.001 23.7815C30.2479 24.7055 31.9571 26.0094 33.1286 27.6931C34.3001 29.3653 34.8858 31.3042 34.8858 33.5097C34.8858 35.3023 34.4661 36.8739 33.6269 38.2248C32.7876 39.5757 31.5452 40.7188 29.8996 41.6542C28.2541 42.5896 26.244 43.3364 23.8692 43.8889L16.2971 45.7289C13.8692 46.3312 11.9571 47.1135 10.5508 48.0753C9.15598 49.0257 8.45855 50.2157 8.45855 51.6455C8.45855 52.8841 8.87823 53.8459 9.71755 54.5306C10.5684 55.2038 11.7001 55.5404 13.1118 55.5404C14.6131 55.5404 15.8271 55.1594 16.7521 54.3973C17.6885 53.6238 18.1567 52.5976 18.1567 51.319H30.0504C30.0504 53.4604 29.4395 55.2297 28.2176 56.6275C26.9956 58.0139 25.1788 59.0233 22.7661 59.656C20.3534 60.2887 17.5211 60.6051 14.2692 60.6051C13.0606 58.9852 11.9211 58.349 10.8236 58.0576Z" fill="currentColor"/>
        <path d="M50.4158 57.6545V22.7816H62.3095V57.6545H50.4158Z" fill="currentColor"/>
        <path d="M72.0628 57.6545V22.7816H83.9565V57.6545H72.0628Z" fill="currentColor"/>
        <path d="M109.281 58.0576C106.33 58.0576 103.844 57.5134 101.821 56.425C99.8095 55.3251 98.2435 53.7925 97.1233 51.8272C96.003 50.0404 95.5204 50.1553 95.4432 47.9258V22.7816H107.337V46.686C107.337 47.7844 107.568 48.6018 108.031 49.1381C108.493 49.6744 109.126 49.9426 109.928 49.9426C110.73 49.9426 111.363 49.6744 111.826 49.1381C112.288 48.5904 112.52 47.773 112.52 46.686V22.7816H124.413V47.9258C124.413 50.4018 123.791 52.4452 122.544 54.056C121.297 55.6553 119.508 56.8325 117.175 57.5878C114.854 58.3316 112.197 58.7032 109.204 58.7032L109.281 58.0576Z" fill="currentColor"/>
        <path d="M149.336 58.0576C146.992 58.0576 144.974 57.2753 143.282 55.7107C141.59 54.1461 140.744 52.1904 140.744 49.8436C140.744 47.4968 141.59 45.5411 143.282 43.9765C144.974 42.4004 146.992 41.6181 149.336 41.6181C151.68 41.6181 153.698 42.4004 155.39 43.9765C157.082 45.5411 157.928 47.4968 157.928 49.8436C157.928 52.1904 157.082 54.1461 155.39 55.7107C153.698 57.2753 151.68 58.0576 149.336 58.0576ZM149.336 46.967C148.164 46.967 147.24 47.3497 146.564 48.1154C145.888 48.8812 145.55 49.8436 145.55 51.0027C145.55 52.1618 145.888 53.1242 146.564 53.8899C147.24 54.6556 148.164 55.0385 149.336 55.0385C150.508 55.0385 151.432 54.6556 152.108 53.8899C152.784 53.1242 153.122 52.1618 153.122 51.0027C153.122 49.8436 152.784 48.8812 152.108 48.1154C151.432 47.3497 150.508 46.967 149.336 46.967Z" fill="currentColor"/>
        <path d="M172.637 57.6545L164.217 41.9054H165.234L172.937 56.425L180.64 41.9054H181.657L173.954 57.6545H172.637Z" fill="currentColor"/>
        <path d="M206.31 49.499C206.31 52.024 205.447 54.056 203.722 55.595C201.997 57.1339 199.789 57.9032 197.098 57.9032C194.272 57.9032 191.975 57.0696 190.207 55.398C188.439 53.7264 187.555 51.6222 187.555 49.0857V22.7816H199.448V49.0857C199.448 50.3168 199.789 51.1963 200.473 51.724C201.157 52.239 202.04 52.5 203.121 52.5C204.427 52.5 205.352 51.9245 205.896 50.7744C206.046 50.4018 206.31 49.499 206.31 48.0792V22.7816H218.204V49.0857C218.204 51.912 217.468 54.1298 216.002 55.7389C214.535 57.348 212.43 58.3316 209.691 58.6889L206.31 49.499Z" fill="currentColor"/>
        <path d="M0.81543 31.3289C1.96695 29.5962 1.77637 27.6534 2.22852 25.8055C3.20098 22.2882 5.09355 19.162 7.73711 16.5912C12.3927 11.9669 18.2195 8.58331 24.8152 6.95311C28.4344 6.04271 32.2244 5.61195 36.001 5.6608C37.0002 5.67228 38.0177 5.76007 38.9959 5.89201C40.4552 6.08832 41.8154 6.47124 43.0135 7.1859C45.2472 8.52932 46.5866 10.826 46.5866 13.3957C46.5866 15.6565 45.4151 17.7871 43.5111 19.0638C42.2282 19.9274 40.7157 20.4072 39.1866 20.5281C35.9147 20.7816 32.7583 21.6511 29.8996 23.0866C25.1325 25.4447 21.218 29.1738 18.7901 33.7253C17.7909 35.6148 17.1592 37.6943 16.9686 39.8398C16.7249 42.5457 17.1478 45.2346 18.1567 47.692C19.7823 51.5209 22.5858 54.7176 26.2165 56.886C28.2508 58.076 30.569 58.8583 32.969 59.1006C35.3438 59.3429 37.7437 59.0266 39.9529 58.1929C41.7696 57.4955 43.3762 56.4196 44.5949 54.8946C45.8879 53.2547 46.5866 51.2728 46.5866 49.2004C46.5866 46.7329 45.4037 44.6287 43.4619 43.352C41.8744 42.2704 40.0116 41.7179 38.1382 41.7179C37.0398 41.7179 35.9642 41.9084 34.9587 42.281C34.3001 42.5209 33.5647 42.924 33.0232 43.5263C32.3258 44.3198 32.0911 45.2923 32.0911 46.1947C32.0911 47.4725 32.7077 48.56 33.9404 49.441C34.8213 50.0848 35.8624 50.4525 36.9825 50.4525C37.9607 50.4525 38.897 50.2126 39.7923 49.7329C41.2221 48.9436 42.1575 47.6658 42.338 46.1181C42.4282 45.3246 42.338 44.5196 42.0628 43.7643C41.6049 42.5457 40.7984 41.5294 39.7157 40.832C37.9385 39.6994 35.8528 39.163 33.7253 39.3131C30.9395 39.5196 28.2722 40.3891 25.9625 41.8245C22.0319 44.2704 19.0348 48.076 17.6514 52.4789C17.2284 53.864 17.0628 55.3023 17.1592 56.7321C16.1432 54.349 14.5458 52.3228 12.5181 50.6971C9.69796 48.4234 7.54519 45.5411 6.20579 42.281C5.45996 40.3253 5.16853 38.2248 5.34901 36.1242C5.64044 32.969 6.94436 29.9884 9.07185 27.5024C11.4281 24.7766 14.619 22.8461 18.1567 21.9007C20.6141 21.2317 23.2043 20.988 25.7923 21.1843C29.6212 21.4852 33.2404 22.5832 36.3351 24.36C38.1238 25.3763 39.6924 26.7491 40.852 28.3846C41.5494 29.3514 42.0171 30.4273 42.2282 31.5475C42.4282 32.6144 42.3613 33.6938 42.0247 34.72C41.7649 35.5344 41.307 36.2731 40.6753 36.8754C39.5358 37.957 38.0067 38.6007 36.4259 38.6007C34.7537 38.6007 33.206 37.9274 32.0664 36.7683C31.2599 35.9415 30.7816 34.9251 30.6545 33.8267C30.4739 32.2257 31.0606 30.6655 32.2176 29.5671C33.153 28.7035 34.3438 28.2123 35.5684 28.1135C36.0361 28.0772 36.5095 28.0772 36.9825 28.1135C37.8093 28.1747 38.6253 28.4282 39.3399 28.8479C39.8814 29.1643 40.3241 29.5896 40.6376 30.0894C40.7877 30.3023 40.9149 30.5266 41.0135 30.7624C41.1354 31.0423 41.1354 31.3391 41.1354 31.6359C41.1354 31.7859 41.1239 31.9245 41.1009 32.0632C41.0023 32.6291 40.7681 33.1567 40.4004 33.6089C39.703 34.4556 38.7188 34.992 37.6719 35.0906C36.0844 35.2407 34.5888 34.5332 33.6269 33.2931C32.8901 32.3253 32.6554 31.1548 32.8846 30.0116C33.176 28.5399 34.1206 27.285 35.5057 26.5496C36.8525 25.8421 38.4119 25.6458 39.8996 26.002C40.9859 26.2657 42.0034 26.7934 42.8244 27.5024C43.5134 28.0924 44.0628 28.8312 44.4253 29.6648C44.9792 30.9312 45.0232 32.3228 44.5711 33.6089C43.8979 35.4852 42.3688 36.9049 40.4648 37.6289C38.5608 38.3529 36.4259 38.2543 34.6192 37.4037C32.7583 36.5168 31.4281 34.8856 31.0051 32.9961C30.7042 31.6277 30.8847 30.1979 31.5262 28.9144C32.2236 27.5236 33.4008 26.4768 34.8198 25.9348C35.9182 25.5316 37.0954 25.3627 38.2726 25.4296C40.085 25.5404 41.8041 26.1159 43.1493 27.0994C44.8074 28.3248 45.8336 30.0841 46.0336 31.9936C46.1951 33.6028 45.7487 35.212 44.7868 36.5458C43.3446 38.4886 41.0594 39.7386 38.643 39.988C36.1047 40.2488 33.5665 39.4665 31.5716 37.957C29.6821 36.5266 28.4344 34.4947 27.9942 32.2538C27.5264 29.8368 27.9174 27.3508 29.1155 25.1766C30.4357 22.7816 32.4862 20.7868 34.9587 19.4196C37.8689 17.7842 41.2221 16.9205 44.5949 16.9818C44.9778 16.9818 45.3607 17.0046 45.7436 17.0504C46.3908 17.1343 46.994 17.3329 47.5355 17.6297C47.9628 17.8655 48.2065 18.3079 48.2065 18.7756C48.2065 19.3511 47.8858 19.8661 47.3872 20.1515C46.8886 20.4369 46.2946 20.5924 45.6811 20.6152C45.2445 20.6267 44.8079 20.6152 44.3713 20.581C40.6387 20.2801 37.0425 19.2994 33.8632 17.7126C30.2209 15.9354 27.1377 13.438 24.8769 10.424C23.3213 8.44209 22.2882 6.13963 21.8972 3.75073C21.7357 2.76847 21.7742 1.76925 22.0298 0.81543L19.4922 0.81543C16.582 1.48443 13.9147 2.82446 11.6679 4.74393C6.70273 9.07185 3.19464 14.6508 1.69286 20.8055C0.842187 24.1883 0.982269 27.7347 2.22852 31.0258L0.81543 31.3289Z" fill="currentColor"/>
    </svg>
)


export default function Header() {
  const pathname = usePathname();

  const NavLink = ({ href, children }: { href: string; children: React.ReactNode }) => (
    <Link
      href={href}
      className={cn(
        "text-lg font-medium transition-colors hover:text-primary",
        pathname === href ? "text-primary" : "text-foreground/80"
      )}
    >
      {children}
    </Link>
  );

  return (
    <header className="sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
      <div className="container mx-auto flex h-20 items-center justify-between px-4 md:px-6">
        <Link href="/" className="flex items-center gap-3">
          <Logo />
        </Link>
        <nav className="hidden md:flex items-center gap-6">
          {navLinks.map(link => (
            <NavLink key={link.href} href={link.href}>{link.label}</NavLink>
          ))}
        </nav>
        <div className="hidden md:flex items-center gap-2">
            <Button asChild variant="ghost">
                <Link href="/login">Login</Link>
            </Button>
            <Button asChild>
                <Link href="/register">Register</Link>
            </Button>
        </div>
        <div className="md:hidden">
          <Sheet>
            <SheetTrigger asChild>
              <Button variant="ghost" size="icon">
                <Menu className="h-6 w-6" />
              </Button>
            </SheetTrigger>
            <SheetContent side="right">
              <div className="flex flex-col gap-6 p-6">
                <Link href="/" className="flex items-center gap-3 mb-4">
                  <Logo />
                </Link>
                {navLinks.map(link => (
                  <NavLink key={link.href} href={link.href}>{link.label}</NavLink>
                ))}
                <div className="flex flex-col gap-4 pt-4 border-t">
                    <Button asChild>
                        <Link href="/login">Login</Link>
                    </Button>
                    <Button asChild variant="outline">
                        <Link href="/register">Register</Link>
                    </Button>
                </div>
              </div>
            </SheetContent>
          </Sheet>
        </div>
      </div>
    </header>
  );
}
